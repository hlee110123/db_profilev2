% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prescription_rates.R
\name{get_atc_prescription_rates}
\alias{get_atc_prescription_rates}
\title{Calculate ATC Prescription Rates}
\usage{
get_atc_prescription_rates(conn, cdm_schema, categories = NULL)
}
\arguments{
\item{conn}{A DBI connection object to the database}

\item{cdm_schema}{Character string specifying the CDM schema name}

\item{categories}{Optional character vector of specific ATC categories to calculate.
If NULL (default), calculates for all categories.}
}
\value{
A data frame containing:
\describe{
\item{atc_code}{ATC category code (first letter)}
\item{category_name}{Full descriptive name of the category}
\item{prescription_count}{Number of prescriptions}
\item{total_prescriptions}{Total prescriptions in database}
\item{prescription_rate}{Prescription rate as percentage of all prescriptions}
\item{patient_count}{Number of unique patients with prescriptions in this category}
\item{total_patients}{Total patients in database}
\item{patient_rate}{Percentage of patients receiving drugs in this category}
\item{prescriptions_per_100k}{Prescriptions per 100,000 patients}
\item{date_range}{Time period for the analysis}
}
}
\description{
Calculates prescription rates for all ATC categories defined in ATC_CATEGORIES
}
\examples{
\dontrun{
conn <- DBI::dbConnect(...)
rates <- get_atc_prescription_rates(conn, "cdm_schema")
rates_subset <- get_atc_prescription_rates(conn, "cdm_schema",
                                          categories = c("C", "N"))
}
}
